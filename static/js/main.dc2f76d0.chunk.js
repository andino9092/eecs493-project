(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(4),c=a.n(l),o=a(7),s=a(1),r=a(5),m=a(6),d=function(){function e(t,a){Object(r.a)(this,e),this.name=t,this.emoji=a,this.view=!0,this.records=new Set}return Object(m.a)(e,[{key:"addLog",value:function(e,t,a){this.records.add(e+"/"+t+"/"+a)}},{key:"delLog",value:function(e,t,a){this.records.delete(e+"/"+t+"/"+a)}},{key:"hasRecordForDate",value:function(e,t,a){return this.records.has(e+"/"+t+"/"+a)}},{key:"getHabitData",value:function(e,t){var a={thisMonth:0,thisYear:0};return this.records.forEach(function(n){var i=new Date(n);i.getFullYear()===e&&(a.thisYear+=1,i.getMonth()===t&&(a.thisMonth+=1))}),a}}]),e}();var b=function(e){var t=e.habit,a=t.name,n=t.emoji,l=t.view;return i.a.createElement("li",{className:"list-group-item d-flex align-items-center"+(e.highlighted?" highlighted":""),onClick:e.setSelectedHabit},i.a.createElement("div",{className:"checkbox-col d-flex justify-content-around"},i.a.createElement("input",{className:"form-check-input",type:"checkbox",onChange:e.toggleItemView,checked:l})),i.a.createElement("div",{className:"vr",style:{color:"#adb5bd",width:"1.5px"}}),i.a.createElement("div",{className:"list-item"},i.a.createElement("span",{className:"list-emoji",role:"img","aria-label":n},n),i.a.createElement("span",{className:"m-0"},a)),i.a.createElement("span",{className:"info-button",onClick:e.toggleHabitInfoModal},"\u24d8"))};var u=function(e){return i.a.createElement("ul",{className:"nav nav-pills nav-fill mb-3"},i.a.createElement("li",{className:"nav-item"},i.a.createElement("p",{className:"nav-link"+(e.habitTypeRadio?" active":""),onClick:function(){return e.changeHabitType(!0)}},"Good Habits")),i.a.createElement("li",{className:"nav-item"},i.a.createElement("p",{className:"nav-link"+(e.habitTypeRadio?"":" active"),onClick:function(){return e.changeHabitType(!1)}},"Bad Habits")))};var h=function(e){var t=e.habitTypeRadio?e.itemList.goodHabits:e.itemList.badHabits;return i.a.createElement("div",{className:"habit-list m-2"},i.a.createElement(u,{habitTypeRadio:e.habitTypeRadio,changeHabitType:e.changeHabitType}),i.a.createElement("ul",{className:"list-group list-group-flush"},i.a.createElement("li",{className:"list-group-item add-item-row d-flex align-items-center"},i.a.createElement("div",{className:"checkbox-col"},"View"),i.a.createElement("div",{className:"vr",style:{color:"#adb5bd",width:"1.5px"}}),i.a.createElement("span",{className:"list-emoji",role:"img","aria-label":"Add new item",onClick:e.toggleAddHabitModal},"\u2795"),i.a.createElement("p",{className:"list-add-habit m-0",onClick:e.toggleAddHabitModal},"Add new item")),t.map(function(t,a){return i.a.createElement(b,{habit:t,toggleItemView:function(){return t=a,e.itemList.goodHabits[t].view=!e.itemList.goodHabits[t].view,void e.updateItemList();var t},highlighted:e.selectedHabit===a,setSelectedHabit:function(){return e.setSelectedHabit(a)},toggleHabitInfoModal:function(){return e.toggleHabitInfoModal(e.habitTypeRadio,a)},key:a})})))};var g=function(e){return i.a.createElement("div",{className:"cal-date col",onClick:e.toggleLog},i.a.createElement("p",{className:"date-num"+(function(){var t=new Date(e.date.getFullYear(),e.date.getMonth(),e.day),a=new Date;return t.setHours(0,0,0,0)===a.setHours(0,0,0,0)}()?" today":"")},e.day),i.a.createElement("div",{className:"cal-emoji-area"},e.emojiList.map(function(t){return i.a.createElement("span",{className:"list-emoji",key:"emoji-"+t+"-"+e.day},t)})))},p=["January","February","March","April","May","June","July","August","September","October","November","December"];var f=function(e){var t=Object(n.useState)([[]]),a=Object(s.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)(function(){c(o(e.date))},[e.date]);var o=function(e){for(var t=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0),n=1,i=[];n<=a.getDate();){i.push([]);for(var l=0;l<7;++l)1===n&&l<t.getDay()?i[i.length-1].push(""):n<=a.getDate()?(i[i.length-1].push(String(n)),n+=1):i[i.length-1].push("")}return console.log("built new calendar"),i};return i.a.createElement("div",{className:"calendar container"},i.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},i.a.createElement("h3",{className:"arrow",onClick:function(){return e.setCalendarMonth(new Date(e.date.setMonth(e.date.getMonth()-1)))}},"<"),i.a.createElement("h4",{className:"cal-month"},p[e.date.getMonth()]," ",e.date.getFullYear()),i.a.createElement("h3",{className:"arrow",onClick:function(){return e.setCalendarMonth(new Date(e.date.setMonth(e.date.getMonth()+1)))}},">")),i.a.createElement("div",{className:"cal container"},l.map(function(t,a){return i.a.createElement("div",{className:"cal-row row",key:"cal-week-"+a},t.map(function(t,n){var l=[];return e.viewHabitsList.forEach(function(a){a.view&&a.hasRecordForDate(e.date.getFullYear(),e.date.getMonth()+1,t)&&l.push(a.emoji)}),i.a.createElement(g,{day:t,date:e.date,emojiList:l,toggleLog:function(){return function(t){if(""!==t){var a=e.date.getFullYear(),n=e.date.getMonth()+1,i=e.viewHabitsList[e.selectedHabit];i&&(i.hasRecordForDate(a,n,t)?i.delLog(a,n,t):i.addLog(a,n,t),e.updateItemList())}}(t)},key:"cal-"+a+"-"+n})}))})))},v=a(2);var E=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)("\ud83d\ude04"),r=Object(s.a)(o,2),m=r[0],b=r[1];return Object(n.useEffect)(function(){c(""),b("\ud83d\ude04")},[e.show]),e.show?i.a.createElement("div",{className:"overlay"},i.a.createElement("div",{className:"add-habit-modal"},i.a.createElement("span",{className:"close-modal",role:"img",onClick:e.toggleAddHabitModal,"aria-label":"Close modal"},"\u2716\ufe0f"),i.a.createElement("h4",{className:"modal-title"},"Add ",e.habitType?"Good":"Bad"," Habit to Track"),i.a.createElement("div",{className:"modal-input-wrapper d-flex justify-content-around"},i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"habit-name"},"Name"),i.a.createElement("div",{className:"d-flex gap-4 align-items-center"},i.a.createElement("input",{className:"habit-name-input",id:"habit-name",type:"text",onChange:function(e){c(e.target.value)}}),i.a.createElement("span",{className:"bold"},"Selected Emoji"),i.a.createElement("span",{className:"habit-emoji",role:"img","aria-label":m},m)))),i.a.createElement("div",{className:"emoji-picker"},i.a.createElement(v.b,{width:"120%",height:"25em",emojiStyle:v.a.APPLE,onEmojiClick:function(e){b(e.emoji)}})),i.a.createElement("button",{type:"button",className:"add-habit-btn btn",onClick:function(){""===l?alert("Habit name must not be empty!"):(e.habitType?e.itemList.goodHabits.push(new d(l,m)):e.itemList.badHabits.push(new d(l,m)),e.updateItemList(),e.toggleAddHabitModal())}},"Add Habit"))):i.a.createElement(i.a.Fragment,null)};var N=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)(function(){var t=new Date;e.habit&&c(e.habit.getHabitData(t.getFullYear(),t.getMonth()))},[e.show]),e.show?i.a.createElement("div",{className:"overlay"},i.a.createElement("div",{className:"habit-info-modal"},i.a.createElement("span",{className:"close-modal",role:"img",onClick:e.toggleHabitInfoModal,"aria-label":"Close modal"},"\u2716\ufe0f"),i.a.createElement("div",{className:"modal-title mb-2"},i.a.createElement("span",{className:"list-emoji",role:"img","aria-label":e.habit.emoji},e.habit.emoji),i.a.createElement("span",{className:"habit-title"},e.habit.name)),i.a.createElement("div",{className:"habit-data"},i.a.createElement("div",{className:"d-flex justify-content-between"},i.a.createElement("span",{className:"bold"},"This month"),i.a.createElement("span",null,l.thisMonth)),i.a.createElement("div",{className:"d-flex justify-content-between"},i.a.createElement("span",{className:"bold"},"This year"),i.a.createElement("span",null,l.thisYear))),i.a.createElement("button",{type:"button",className:"del-habit-btn btn btn-danger",onClick:e.deleteHabit},"Delete Habit"))):i.a.createElement(i.a.Fragment,null)};var H=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),r=Object(s.a)(c,2),m=r[0],b=r[1],u=Object(n.useState)(new Date),g=Object(s.a)(u,2),p=g[0],v=g[1],H=Object(n.useState)(!1),y=Object(s.a)(H,2),j=y[0],w=y[1],k=Object(n.useState)({}),M=Object(s.a)(k,2),O=M[0],L=M[1],x=Object(n.useState)(!1),C=Object(s.a)(x,2),S=C[0],T=C[1],D=Object(n.useState)({goodHabits:[new d("Cooked at home","\ud83d\udc68\u200d\ud83c\udf73"),new d("Went to the gym","\ud83c\udfcb\ufe0f")],badHabits:[]}),F=Object(s.a)(D,2),I=F[0],A=F[1];Object(n.useEffect)(function(){I.goodHabits[0].addLog(2023,5,1),I.goodHabits[0].addLog(2023,5,11),I.goodHabits[1].addLog(2023,5,11),R()},[]);var R=function(){var e=Object(o.a)({},I);A(e)},Y=function(){w(!j)},J=function(e,t){L({habitType:e,index:t}),T(!S)};return i.a.createElement("div",{className:"App"},i.a.createElement(E,{show:j,toggleAddHabitModal:Y,itemList:I,updateItemList:R,habitType:a}),i.a.createElement(N,{show:S,toggleHabitInfoModal:J,habit:O.habitType?I.goodHabits[O.index]:I.badHabits[O.index],deleteHabit:function(){O.habitType?I.goodHabits.splice(O.index,1):I.badHabits.splice(O.index,1),R(),J(!1,0)}}),i.a.createElement("div",{className:"navigation d-flex"}),i.a.createElement("div",{className:"d-flex"},i.a.createElement(h,{itemList:I,updateItemList:R,selectedHabit:m,setSelectedHabit:b,habitTypeRadio:a,changeHabitType:function(e){l(e),b(0)},toggleAddHabitModal:Y,toggleHabitInfoModal:J}),i.a.createElement(f,{date:p,setCalendarMonth:v,viewHabitsList:a?I.goodHabits:I.badHabits,updateItemList:R,selectedHabit:m})))};c.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(H,null)))},8:function(e,t,a){e.exports=a(17)}},[[8,2,1]]]);
//# sourceMappingURL=main.dc2f76d0.chunk.js.map